The Ricoh 2A03 or RP2A03 (NTSC version) / Ricoh 2A07 or RP2A07 (PAL version) is an 8-bit microprocessor manufactured by Ricoh for the Nintendo Entertainment System video game console. It was also used as a sound chip and secondary CPU by Nintendo's arcade games Punch-Out!! and Donkey Kong 3.

Technical details
The Ricoh 2A03 contains an unlicensed derivative of the MOS Technology 6502 core, modified to disable the 6502's binary-coded decimal mode (possibly to avoid a MOS Technology patent). It also integrates a programmable sound generator (also known as APU, featuring twenty two memory-mapped I/O registers), rudimentary DMA, and game controller polling.

Sound hardware
The Ricoh 2A03's sound hardware has 5 channels, separated into two APUs (Audio Processing Units). The first APU contains two general purpose square wave channels with 4 duty cycles, similar to the sound generators seen on earlier platforms. The second APU contains three channels; a pseudo-triangle wave generator, an LFSR-based noise generator, and a 1-bit Delta modulation-encoded PCM (DPCM) channel.
The triangle wave was generated by automatically stepping a 4-bit volume control from 0 to 15 and then back down. The rate of these steps could be controlled to produce different frequencies for the resulting tone. Because of the discrete stepping, an overtone was created four octaves higher at 1‚ÅÑ8 the volume of the primary tone, giving the resulting tone a "buzzing" quality. Because the volume was being used to create the triangle, this channel did not have a separate volume control.
A majority of the NES library uses only the four programmed channels due to the amount of memory needed to encode DPCM signals. Later games use the 5th DPCM channel due to cartridge memory expansions becoming cheaper. For example, Super Mario Bros. 3 uses the DPCM channel for simple drum sounds. An interesting quirk of the DPCM channel is that the bit order is reversed compared to what is normally expected for 1-bit PCM. Many developers were unaware of this detail, causing samples to be distorted during playback.
The output of each channel is mixed non-linearly in their respective APU before being combined. This means that the volume of the channels changes when the volume of other channels changes. This can make the balancing of the channels in complex passages difficult. This was a particular problem with the triangle wave, as its volume could not be separated adjusted to make up for this effect.
On Famicom systems, expansion sound chips may add their own sound to the output via a pin on the game cartridge. Expansion audio capabilities were removed from international NES systems, but can be restored by modifying the expansion port located on the bottom of the system.

Regional variations
PAL versions of the NES (sold in Europe, Asia, and Australia) use the Ricoh 2A07 or RP2A07 processor, which is a 2A03 with modifications to better suit the 50 Hz vertical refresh rate used in the PAL television standard. However, most developers lacked the resources to properly adjust their games' music from NTSC to PAL, leading to many PAL games sounding slower, slightly lower-pitched, and in some cases, out-of-tune compared to their original NTSC releases.

See also
Nintendo Entertainment System technical specifications


== References ==